# 📋 چک لیست ارتقاء سیستم پرزه فروشی موتور

## **فاز 1: بهبود مدیریت محصولات** ⚡

### ✅ **مرحله 1.1: ارتقاء دیتابیس محصولات**
- [x] ایجاد اسکریپت ارتقاء دیتابیس (upgrade_database.sql)
- [x] اضافه کردن فیلدهای تخصصی به جدول products
- [x] ایجاد جدول قطعات سازگار (compatible_parts)
- [x] ایجاد جدول برندها و مدلهای موتور
- [x] ایجاد اسکریپت اجرای ارتقاء (run_upgrade.php)
- [ ] **اجرای ارتقاء دیتابیس** → `http://localhost/motor/run_upgrade.php`

### ✅ **مرحله 1.2: بهبود رابط کاربری محصولات**
- [x] بهروزرسانی فرم محصولات با فیلدهای جدید
- [x] بهروزرسانی API محصولات (add_product.php)
- [ ] بهروزرسانی صفحه ویرایش محصول
- [ ] بهروزرسانی صفحه لیست محصولات
- [ ] اضافه کردن جستجوی پیشرفته

### 🔄 **مرحله 1.3: تست عملکرد**
- [ ] تست اضافه کردن محصول جدید
- [ ] تست نمایش فیلدهای جدید
- [ ] تست جستجو بر اساس فیلدهای جدید

---

## **فاز 2: سیستم قیمتگذاری پیشرفته** 🏷️

### ✅ **مرحله 2.1: ارتقاء مشتریان**
- [x] اضافه کردن نوع مشتری به جدول customers
- [x] اضافه کردن درصد تخفیف و حد اعتبار
- [x] ایجاد جدول قیمتگذاری (product_prices)
- [x] ایجاد جدول تخفیفات حجمی (volume_discounts)

### ✅ **مرحله 2.2: سیستم تخفیف**
- [x] پیادهسازی تخفیف بر اساس نوع مشتری
- [x] تخفیف حجمی
- [x] بهروزرسانی سیستم فروش
- [x] API قیمتگذاری هوشمند (get_smart_price.php)
- [x] بهروزرسانی فرم مشتریان
- [x] بهروزرسانی API مشتریان
- [ ] **اجرای فاز 2** → `http://localhost/motor/run_phase2.php`

### 🔄 **مرحله 2.3: تست عملکرد**
- [ ] تست قیمتگذاری بر اساس نوع مشتری
- [ ] تست تخفیف حجمی
- [ ] تست محاسبه قیمت در فروش

---

## **فاز 3: سیستم گارانتی** 🛡️

### ✅ **مرحله 3.1: جدول گارانتی**
- [x] ایجاد جدول warranties
- [x] ایجاد جدول warranty_claims
- [x] ایجاد جدول warranty_history
- [x] ربط با sale_items
- [x] سیستم پیگیری گارانتی

### ✅ **مرحله 3.2: API و رابط کاربری**
- [x] API ایجاد گارانتی (add_warranty.php)
- [x] API درخواست گارانتی (warranty_claim.php)
- [x] صفحه مدیریت گارانتی (warranties.php)
- [x] اضافه به منوی سایدبار
- [x] گارانتی خودکار در فروش
- [ ] **اجرای فاز 3** → `http://localhost/motor/run_phase3.php`

### 🔄 **مرحله 3.3: تست عملکرد**
- [ ] تست ایجاد گارانتی خودکار
- [ ] تست درخواست گارانتی
- [ ] تست پیگیری وضعیت

---

## **فاز 4: سیستم بارکد** 📱

### ✅ **مرحله 4.1: بارکد محصولات**
- [x] ایجاد جدول product_barcodes
- [x] ایجاد جدول barcode_scans
- [x] تولید بارکد خودکار
- [x] API جستجوی بارکد (barcode_search.php)
- [x] اسکن بارکد در فروش
- [x] صفحه مدیریت بارکد (barcodes.php)
- [x] چاپ برچسب بارکد
- [x] تاریخچه اسکن
- [x] اضافه به منوی سایدبار
- [ ] **اجرای فاز 4** → `http://localhost/motor/run_phase4.php`

### 🔄 **مرحله 4.2: تست عملکرد**
- [ ] تست اسکن بارکد
- [ ] تست اضافه به فاکتور
- [ ] تست چاپ برچسب

---

## **فاز 5: گزارشگیری پیشرفته** 📊

### ⏳ **مرحله 5.1: گزارشات تخصصی**
- [ ] گزارش بر اساس برند موتور
- [ ] تحلیل سودآوری قطعات
- [ ] گزارش گردش موجودی

---

## **🚀 مراحل اجرا:**

### **گام 1: اجرای ارتقاء دیتابیس**
```
1. به آدرس http://localhost/motor/run_upgrade.php بروید
2. ارتقاء را اجرا کنید
3. نتیجه را بررسی کنید
```

### **گام 2: تست فیلدهای جدید**
```
1. به صفحه محصولات بروید
2. محصول جدید اضافه کنید
3. فیلدهای جدید را پر کنید
4. ذخیره و بررسی کنید
```

### **گام 3: بهبود مرحله‌ای**
```
1. هر فاز را به ترتیب پیاده کنید
2. تست کنید
3. به فاز بعدی بروید
```

---

## **📝 یادداشت‌های مهم:**

- ✅ **انجام شده**
- 🔄 **در حال انجام**  
- ⏳ **در انتظار**
- ❌ **نیاز به بررسی**

**وضعیت فعلی:** فاز 4 کامل - آماده اجرا (95% کامل)

## **🎯 ویژگیهای جدید فاز 2:**
- انواع مشتری: خرده فروشی، عمده فروشی، تعمیرگاه، نمایندگی
- تخفیف اختصاصی برای هر مشتری
- حد اعتبار مالی مشتریان
- قیمتگذاری بر اساس نوع مشتری
- تخفیف حجمی خودکار
- محاسبه قیمت هوشمند در فروش

## **🛡️ ویژگیهای جدید فاز 3:**
- سیستم گارانتی کامل برای محصولات
- ثبت خودکار گارانتی هنگام فروش
- درخواست گارانتی (تعمیر، تعویض، بازپرداخت)
- پیگیری وضعیت گارانتی
- تاریخچه کامل گارانتی
- هشدار انقضای گارانتی

## **📱 ویژگیهای جدید فاز 4:**
- سیستم بارکد کامل برای محصولات
- تولید خودکار بارکد برای محصولات
- اسکن بارکد در فروش برای اضافه سریع
- جستجوی فوری محصولات با بارکد
- تاریخچه اسکن و آمار
- چاپ برچسب بارکد